---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aiven_clickhouse_grant Resource - terraform-provider-aiven"
subcategory: ""
description: |-
  The Clickhouse Grant resource allows the creation and management of Grants in Aiven Clickhouse services.
  Notes:
  * Due to a ambiguity in the GRANT syntax in clickhouse you should not have users and roles with the same name. It is not clear if a grant refers to the user or the role.
  * Currently changes will first revoke all grants and then reissue the remaining grants for convergence.
---

# aiven_clickhouse_grant (Resource)

The Clickhouse Grant resource allows the creation and management of Grants in Aiven Clickhouse services.

Notes:
* Due to a ambiguity in the GRANT syntax in clickhouse you should not have users and roles with the same name. It is not clear if a grant refers to the user or the role.
* Currently changes will first revoke all grants and then reissue the remaining grants for convergence.

## Example Usage

```terraform
resource "aiven_clickhouse" "clickhouse" {
  project      = var.aiven_project_name
  cloud_name   = "google-europe-west1"
  plan         = "startup-8"
  service_name = "exapmle-clickhouse"
}

resource "aiven_clickhouse_database" "demodb" {
  project      = aiven_clickhouse.clickhouse.project
  service_name = aiven_clickhouse.clickhouse.service_name
  name         = "demo"
}

resource "aiven_clickhouse_role" "demo" {
  project      = aiven_clickhouse.clickhouse.project
  service_name = aiven_clickhouse.clickhouse.service_name
  role         = "demo-role"
}

resource "aiven_clickhouse_grant" "demo-role-grant" {
  project      = aiven_clickhouse.clickhouse.project
  service_name = aiven_clickhouse.clickhouse.service_name
  role         = aiven_clickhouse_role.demo.role

  privilege_grant {
    privilege = "INSERT"
    database  = aiven_clickhouse_database.demodb.name
    table     = "*"
  }

  privilege_grant {
    privilege = "SELECT"
    database  = aiven_clickhouse_database.demodb.name
    table     = "*"
  }
}

resource "aiven_clickhouse_user" "demo" {
  project      = aiven_clickhouse.clickhouse.project
  service_name = aiven_clickhouse.clickhouse.service_name
  username     = "demo-user"
}

resource "aiven_clickhouse_grant" "demo-user-grant" {
  project      = aiven_clickhouse.clickhouse.project
  service_name = aiven_clickhouse.clickhouse.service_name
  user         = aiven_clickhouse_user.demo.username

  role_grant {
    role = aiven_clickhouse_role.demo.role
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **project** (String) Identifies the project this resource belongs to. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.
- **service_name** (String) Specifies the name of the service that this resource belongs to. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.

### Optional

- **id** (String) The ID of this resource.
- **privilege_grant** (Block Set) Configuration to grant a privilege. This property cannot be changed, doing so forces recreation of the resource. (see [below for nested schema](#nestedblock--privilege_grant))
- **role** (String) The role to grant privileges or roles to. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.
- **role_grant** (Block Set) Configuration to grant a role. This property cannot be changed, doing so forces recreation of the resource. (see [below for nested schema](#nestedblock--role_grant))
- **user** (String) The user to grant privileges or roles to. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.

<a id="nestedblock--privilege_grant"></a>
### Nested Schema for `privilege_grant`

Required:

- **database** (String) The database that the grant refers to. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.

Optional:

- **column** (String) The column that the grant refers to. This property cannot be changed, doing so forces recreation of the resource.
- **privilege** (String) The privilege to grant, i.e. 'INSERT', 'SELECT', etc. This property cannot be changed, doing so forces recreation of the resource.
- **table** (String) The table that the grant refers to. This property cannot be changed, doing so forces recreation of the resource.
- **with_grant** (Boolean) If true then the grantee gets the ability to grant the privileges he received too This property cannot be changed, doing so forces recreation of the resource.


<a id="nestedblock--role_grant"></a>
### Nested Schema for `role_grant`

Optional:

- **role** (String) The role that is to be granted. To set up proper dependencies please refer to this variable as a reference. This property cannot be changed, doing so forces recreation of the resource.


